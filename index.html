<!DOCTYPE html>
<html>
  <head>
    <meta charset='utf-8'>
    <meta http-equiv="X-UA-Compatible" content="chrome=1">
    <meta name="viewport" content="width=device-width, initial-scale=1.0, user-scalable=1" />

    <link rel="stylesheet" type="text/css" href="stylesheets/stylesheet.css" media="screen">
    <link rel="stylesheet" type="text/css" href="stylesheets/pygment_trac.css" media="screen">
    <link href='http://fonts.googleapis.com/css?family=Lato:400,700|Source+Code+Pro:300,500' rel='stylesheet' type='text/css'>

    <title>@FreeBuilder</title>
  </head>

  <body>

    <header>
      <h1>@Free<em>Builder</em></h1>
      <h2>Automatic generation of the Builder pattern for Java 1.6+</h2>
    </header>

    <body>

      <quickstart>
        <h3>Quick Start</h3>

        <figure>
          <figcaption>
            Want a Builder API without the hassle? In your
            <select id="build" onchange="var elements = document.getElementsByClassName(this.id); for (var i = 0; i < elements.length; i++) { elements[i].style.display = 'none'; } elements = document.getElementsByClassName(this.value); for (var i = 0; i < elements.length; i++) { elements[i].style.display = null; }">
              <option value="gradle">build.gradle</option>
              <option value="maven">pom.xml</option>
              <option value="javac">javac</option>
              <option value="eclipse">Eclipse</option>
              <option value="idea">IntelliJ</option>
            </select>
            <span class="build gradle">
              file, add:
            </span>
            <span class="build maven" style="display: none">
              file, add:
            </span>
            <span class="build javac" style="display: none">
              invocation, add
              <a href="https://repository.sonatype.org/service/local/artifact/maven/redirect?r=central-proxy&amp;g=org.inferred&amp;a=freebuilder&amp;v=RELEASE">the latest FreeBuilder JAR</a>
              to your list of classpaths (or processorpaths, if you supply any).
              <br>
            </span>
            <span class="build eclipse" style="display: none">
              project, add
              <a href="https://repository.sonatype.org/service/local/artifact/maven/redirect?r=central-proxy&amp;g=org.inferred&amp;a=freebuilder&amp;v=RELEASE">the latest FreeBuilder JAR</a>.
              Select it, right-click and choose <b>Build path > Add to Build path</b>.
              In your project properties dialog, go to <b>Java Compiler > Annotation Processing</b>
              and ensure <b>Enable annotation processing</b> is checked. Finally, go to
              <b>Java Compiler > Annotation Processing > Factory Path</b>, select
              <b>Add JARs</b>, and select the FreeBuilder JAR.
              <br>
            </span>
            <span class="build idea" style="display: none">
              project, add
              <a href="https://repository.sonatype.org/service/local/artifact/maven/redirect?r=central-proxy&amp;g=org.inferred&amp;a=freebuilder&amp;v=RELEASE">the latest FreeBuilder JAR</a>,
              right-click it and select <b>Use as Project Library</b>. In your Settings,
              go to <b>Build, Execution, Deployment > Compiler > Annotation Processors</b>
              and ensure <b>Enable annotation processors</b> is selected, and
              <b>Store generated sources relative to</b> is set to
              <b>Module content root</b>. (If you have specified a processor path, ensure
              you add the new JAR to it. Similarly, if you choose to specify processors
              explicitly, add
              <code>org.inferred.freebuilder.processor.Processor</code>
              to the list.)
              <br><br>
              Run <b>Build > Rebuild Project</b>, then right-click the new
              <code>generated</code> folder (this may have a different name if you have
              changed the <b>Production sources directory</b> setting) and select
              <b>Mark Directory As > Generated Sources Root</b>.
              <br>
            </span>
          </figcaption>
          <pre class="build gradle">
plugins {
  id 'org.inferred.processors' version '<processors-version>xx</processors-version>'
}
dependencies {
  processor 'org.inferred:freebuilder:<freebuilder-version>&lt;current version&gt;</freebuilder-version>'
}</pre>
          <pre class="build maven" style="display: none">
&lt;dependencies&gt;
  &lt;dependency&gt;
    &lt;groupId&gt;org.inferred&lt;/groupId&gt;
    &lt;artifactId&gt;freebuilder&lt;/artifactId&gt;
    &lt;version&gt;<freebuilder-version>[current version]</freebuilder-version>&lt;/version&gt;
    &lt;optional&gt;true&lt;/optional&gt;
  &lt;/dependency&gt;
&lt;/dependencies&gt;</pre>
        </figure>
        <figure>
            <figcaption>Now just annotate, extend and go!</figcaption>
            <pre>
<java-keyword>import</java-keyword> org.inferred.freebuilder.FreeBuilder;

<animate-add-1>@FreeBuilder</animate-add-1>
<java-keyword>public</java-keyword> <tipped><java-keyword>interface</java-keyword><tooltip>You can also use an abstract class if you want to add private methods,<br> or concrete methods preâ€“Java 8.</tooltip></tipped> Person {
  <java-comment>/** Returns the person's full (English) name. */</java-comment>
  String name();
  <java-comment>/** Returns the person's age in years, rounded down. */</java-comment>
  <java-keyword>int</java-keyword> age();

  <java-keyword>class</java-keyword> Builder <animate-add-2><java-keyword>extends</java-keyword> <tipped>Person_Builder<tooltip>The Person_Builder class is generated by FreeBuilder.</tooltip></tipped> {}</animate-add-2>
}

Person bob = <java-keyword>new</java-keyword> Person.Builder()<animate-add-3>.name(<java-string>"Bob"</java-string>).age(23).build();</animate-add-3></pre>
        </figure>
        <p>For a complete feature list, extensive README, and issue tracker, please see <a href="https://github.com/google/FreeBuilder">the project page on GitHub</a>.</p>
      </quickstart>

      <features>
        <h3>Features</h3>

        <p>FreeBuilder is packed with things like...</p>

        <figure>
            <figcaption>Collections support</figcaption>
            <pre>
@FreeBuilder
<java-keyword>interface</java-keyword> TopOfThePops {
  <java-comment>/** Artists who've released Number 1 hits. */</java-comment>
  <a href="https://docs.oracle.com/javase/8/docs/api/java/util/Set.html">Set</a>&lt;String&gt; artists();
  <java-comment>/** Best album each year. */</java-comment>
  <a href="https://docs.oracle.com/javase/8/docs/api/java/util/Map.html">Map</a>&lt;Integer, String&gt; albums();

  <java-keyword>class</java-keyword> Builder <java-keyword>extends</java-keyword> TopOfThePops_Builder {}
}

<java-keyword>new</java-keyword> TopOfThePops.Builder()
    .addArtists(<java-string>"Michael Jackson"</java-string>, <java-string>"Billy Bragg"</java-string>)
    .putAllAlbums(albumsByYear)
    .build();</pre>
        </figure>
        <figure>
            <figcaption><a href="https://github.com/google/guava/wiki/NewCollectionTypesExplained">Guava collections</a> support</figcaption>
            <pre>
@FreeBuilder
<java-keyword>interface</java-keyword> BookShop {
  <java-comment>/** Shop assistants. */</java-comment>
  <a href="https://github.com/google/guava/wiki/NewCollectionTypesExplained#multiset">Multiset</a>&lt;String&gt; assistants();
  <java-comment>/** Books by category. */</java-comment>
  <a href="https://github.com/google/guava/wiki/NewCollectionTypesExplained#multimap">Multimap</a>&lt;String, String&gt; books();

  <java-keyword>class</java-keyword> Builder <java-keyword>extends</java-keyword> BookShop_Builder {}
}

<java-keyword>new</java-keyword> BookShop.Builder()
    .addAssistants(<java-string>"Bill"</java-string>, <java-string>"Bob"</java-string>)
    .putAllBooks(<java-string>"Science Fiction"</java-string>, <java-static><a href="https://docs.oracle.com/javase/8/docs/api/java/util/Arrays.html#asList-T...-">asList</a></java-static>(<java-string>"I, Robot"</java-string>, <java-string>"Cyteen"</java-string>))
    .build();</pre>
        </figure>
        <figure>
            <figcaption>Jackson support (just one line!)</figcaption>
            <pre>
@FreeBuilder
<a href="https://fasterxml.github.io/jackson-databind/javadoc/2.2.0/com/fasterxml/jackson/databind/annotation/JsonDeserialize.html">@JsonDeserialize</a>(builder = Person.Builder.<java-keyword>class</java-keyword>)
<java-keyword>public</java-keyword> <java-keyword>interface</java-keyword> Person {
  <java-comment>/** Returns the person's full (English) name. */</java-comment>
  String name();
  <java-comment>/** Returns the person's age in years, rounded down. */</java-comment>
  <java-keyword>int</java-keyword> age();

  <java-keyword>class</java-keyword> Builder <java-keyword>extends</java-keyword> Person_Builder {}
}

Person person = <java-keyword>new</java-keyword> <a href="https://fasterxml.github.io/jackson-databind/javadoc/2.2.0/com/fasterxml/jackson/databind/ObjectMapper.html">ObjectMapper</a>().<a href="https://fasterxml.github.io/jackson-databind/javadoc/2.2.0/com/fasterxml/jackson/databind/ObjectMapper.html#readValue(java.lang.String, java.lang.Class)">readValue</a>(
    <java-string>"{\"name\":\"Bob\", \"age\":23}"</java-string>, Person.<java-keyword>class</java-keyword>);</pre>
        </figure>
        <figure>
            <figcaption><a href="http://www.gwtproject.org/">GWT</a> support</figcaption>
            <pre>
@FreeBuilder
<a href="http://google.github.io/guava/releases/18.0/api/docs/com/google/common/annotations/GwtCompatible.html">@GwtCompatible</a>(serializable = <java-keyword>true</java-keyword>)
<java-keyword>public</java-keyword> <java-keyword>interface</java-keyword> Person <java-keyword>extends</java-keyword> <a href="https://docs.oracle.com/javase/8/docs/api/java/io/Serializable.html">Serializable</a> {
  <java-comment>/** Returns the person's full (English) name. */</java-comment>
  String name();
  <java-comment>/** Returns the person's age in years, rounded down. */</java-comment>
  <java-keyword>int</java-keyword> age();

  <java-keyword>class</java-keyword> Builder <java-keyword>extends</java-keyword> Person_Builder {}
}

RPC.<java-static><a href="http://www.gwtproject.org/javadoc/latest/com/google/gwt/user/server/rpc/RPC.html#encodeResponseForSuccess(java.lang.reflect.Method, java.lang.Object)">encodeResponseForSuccess</a></java-static>(someMethod, person);</pre>
        </figure>
        <figure>
            <figcaption>Don't just build, modify!</figcaption>
            <pre>
BookShop bookshop = BookShop.Builder
    .<tipped><java-static>from</java-static><tooltip>The static <code>from</code> method turns a data object back into a Builder.</tooltip></tipped>(acquiredBookshop)
    .removeAssistants(<java-string>"Terry"</java-string>)
    .<tipped>mutateBooks<tooltip>The modify and mutate methods let you pass in a lambda, for more readable code,<br>or to access collection methods not available on the builder API.</tooltip></tipped>(books -> {
      Collection&lt;String&gt; sciFi = books.<tipped-right>removeAll(<java-string>"Science Fiction"</java-string>)<tooltip>This modifies the <code>books</code> collection on the builder.</tooltip></tipped-right>;
      books.putAll(<java-string>"sci-fi"</java-string>, sciFi);
    })
    .<tipped>mergeFrom<tooltip>The <code>mergeFrom</code> method combines collections.</tooltip></tipped>(existingBookshop)
    .build();</pre>
        </figure>
        <figure>
            <figcaption>Keep your tests robust with partials</figcaption>
            <pre>
<java-comment>// This code doesn't need to care about the ins-and-outs
// of ISBN compliance (when we get around to implementing
// it!), nor does it need any of the other fields we're
// planning on adding to Book, so rather than have to fix
// this test every time we modify Book, just pass in a
// partial.</java-comment>
Book book = <java-keyword>new</java-keyword> Book.Builder()
    .name(<java-string>"I, Robot"</java-string>)
    .isbn(<java-string>"Some ISBN"</java-string>)
    .buildPartial();  <java-comment>// Skips validation</java-comment>

<java-comment>// Whoops! Throws UnsupportedOperationException.</java-comment>
book.publicationDate();
</pre>
        </figure>
        <figure>
            <figcaption>Google-standard code readability and peer review</figcaption>
            <pre><img src="images/peer-review-example.png" width="800" height="500"></pre>
        </figure>

        <p>For a complete feature list, extensive README, and issue tracker, please see <a href="https://github.com/google/FreeBuilder">the project page on GitHub</a>.</p>
      </features>

<script>
  (function() {
    // Return the largest array, considered lexicographically
    var maxArray = function(a, b) {
      for (var i = 0; i < Math.min(a.length, b.length); i++) {
        if (a[i] < b[i]) {
          return b
        } else if (a[i] > b[i]) {
          return a
        }
      }
      return (a.length < b.length) ? b : a
    }

    var updateVersions = function(tagName, storageKey, callbackName) {
      var setVersionsTo = function(latestTag) {
        var versionFields = document.getElementsByTagName(tagName)
        for (var i = 0; i < versionFields.length; i++) {
          versionFields[i].innerText = latestTag
        }
      }

      // Callback for GitHub API.
      // Fills out version tags with the latest version, and puts it in local storage for next time.
      window[callbackName] = function(response) {
        var latestTag = (response.data
            .filter(function(tag) { return /^v\d+(\.\d+)+$/.test(tag.name) })
            .map(function(tag) { return tag.name.substring(1).split(".").map(Number) })
            .reduce(maxArray)
            .join("."))
        if (typeof(Storage) !== "undefined") {
          localStorage.setItem(storageKey, latestTag)
        }
        setVersionsTo(latestTag)
      }

      // If a version is stored in local storage from last time this page was opened, use it.
      if (typeof(Storage) !== "undefined" && localStorage.getItem(storageKey) !== null) {
        setVersionsTo(localStorage.getItem(storageKey))
      }
    }

    updateVersions("freebuilder-version", "latestFreeBuilderVersion", "updateFreeBuilderVersionsCallback")
    updateVersions("processors-version", "latestProcessorsVersion", "updateProcessorsVersionsCallback")
  })()
</script>
<script src="https://api.github.com/repos/google/FreeBuilder/tags?callback=updateFreeBuilderVersionsCallback"></script>
<script src="https://api.github.com/repos/palantir/gradle-processors/tags?callback=updateProcessorsVersionsCallback"></script>
<script>
  ((window.gitter = {}).chat = {}).options = {
    room: 'inferred-freebuilder/Lobby'
  };
</script>
<script src="https://sidecar.gitter.im/dist/sidecar.v1.js" async defer></script>

<script>
  (function(i,s,o,g,r,a,m){i['GoogleAnalyticsObject']=r;i[r]=i[r]||function(){
  (i[r].q=i[r].q||[]).push(arguments)},i[r].l=1*new Date();a=s.createElement(o),
  m=s.getElementsByTagName(o)[0];a.async=1;a.src=g;m.parentNode.insertBefore(a,m)
  })(window,document,'script','//www.google-analytics.com/analytics.js','ga');

  ga('create', 'UA-58678480-1', 'auto');
  ga('send', 'pageview');

</script>

  </body>
</html>

